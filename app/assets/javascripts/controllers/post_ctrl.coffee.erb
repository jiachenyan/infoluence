
angular.module('Infoluence').controller 'PostController', [

 'CookieService'
 'UUID'
 'PostService'
 'FeedFactory'

 '$scope'
 '$state'
 '$stateParams'


 (CookieService,UUID,PostService,FeedFactory,$scope,$state,$stateParams) ->

 	$scope.postId = $stateParams.postId
  $scope.me = null
  $scope.timeline = [123,123]
  $scope.post = null


  $scope.back = =>
   $state.go("^")

  $scope.sharePost = =>
   PostService.sharePost($scope.postId).then (res) =>
    console.log res.data
    FeedFactory.feed.unshift res.data
    console.log JSON.stringify(res)

  $scope.getDetailPost = =>
  	console.log $scope.postId
  	PostService.getDetailPost($scope.postId).then (res) =>
  		$scope.post = res.data
  		console.log res.data


]
